import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.goto('https://chox.test.hotelplan.co.uk/?ProgramCode=GBINA&From=EDI&To=FRCH&Property=FRCH0111ACCX&Room=A4&Board=SC&When=2024-12-28&Nights=7&Adults=2&Children=0&Childage=&BrandCode=INGH&CatalogueCode=010&CurrencyCode=GBP&giatacode=+++++68686&ProductUrl=https%3A%2F%2Fwww.inghams.test.hotelplan.co.uk%2Fski-holidays%2Fski-resorts%2Ffrance%2Fchamonix%2Fresidence-la-riviere-apartments%3FaccommodationNode%3D23519%26programCode%3DGBINA%26tourOpCode%3DING%26catalogue%3D010%26obArrGateway%3DFRCH%26departurePoint%3DAIRPORT-EDI%26propertyCode%3DFRCH0111%26boardBasis%3DSC%26unitCode%3DA4%26transportType%3DFLT%26departureDate%3D28%2F12%2F2024%26duration%3D7%26adults%3D2%26children%3D%26childages%3D%26to%3D%5BFR%5D%26resort%3D%5B%5D%26when%3D28%2F12%2F2024%26nights%3D7%26from%3D%26flexibleDate%3D0%26self%3Dtrue&ProductName=Residence+La+Riviere+Apartments');
  //await page.goto('https://chox.test.hotelplan.co.uk/your-holiday');
  await expect(page.getByRole('heading', { name: 'Your holiday' })).toBeVisible({timeout:60000});
  await expect(page.locator('h2').filter({ hasText: 'Residence La Riviere' })).toBeVisible({timeout:60000});
  await expect(page.getByText('Your travelOutboundSat 28 Dec')).toBeVisible({timeout:60000});
  await page.getByRole('button', { name: 'View alternative options' }).click();
  await page.getByRole('button', { name: 'Confirm' }).click();
  await page.getByLabel('Select travel+ £40.00 pp').check();
  await page.getByRole('button', { name: 'Confirm' }).click();
  await page.getByRole('button', { name: 'Change guests' }).click();
  await page.locator('.c-guest-allocation__menu-item > button').first().click();
  await page.locator('label').filter({ hasText: 'Studio Apartment with Cabin,' }).locator('span').nth(2).click();
  await page.getByRole('button', { name: 'Allocate guests' }).click();
  await page.locator('.c-accordion').first().click();
  await page.getByRole('button', { name: 'Next' }).click();
  await page.locator('#passenger-1-3-firstName').click();
  await page.locator('#passenger-1-3-firstName').fill('Auto');
  await page.locator('#passenger-1-4-lastName').click();
  await page.locator('#passenger-1-4-lastName').fill('Test');
  await page.locator('form div').filter({ hasText: 'Adult 1 (lead passenger)Title' }).getByRole('combobox').nth(1).selectOption('02');
  await page.locator('form div').filter({ hasText: 'Adult 1 (lead passenger)Title' }).getByRole('combobox').nth(3).selectOption('2024');
  await page.getByPlaceholder('Start typing').click();
  await page.getByPlaceholder('Start typing').fill('1st St');
  await page.getByRole('link', { name: '1st Street, 1550 Mandaluyong' }).click();
  await page.getByLabel('Phone number (mobile').click();
  await page.getByLabel('Phone number (mobile').fill('09155148888');
  await page.getByLabel('Confirm e-mail address *').click();
  await page.getByLabel('Confirm e-mail address *').fill('test@test.com');
  await page.getByText('Adult 1 (lead passenger)Title *SelectMrMrsMsDrProfSirLordLadyHonRev First name * Last name * Date of birth *Day01020304050607080910111213141516171819202122232425262728293031Month010203040506070809101112Year202420232022202120202019201820172016201520142013201220112010200920082007200620052004200320022001200019991998199719961995199419931992199119901989198819871986198519841983198219811980197919781977197619751974197319721971197019691968196719661965196419631962196119601959195819571956195519541953195219511950194919481947194619451944194319421941194019391938193719361935193419331932193119301929192819271926192519241923192219211920191919181917191619151914191319121911191019091908190719061905Add special requirementsContact details Address Address line 1 *Address line 2City/town *Postcode *Country *United KingdomAfghanistanAlbaniaAlgeriaAmerican SamoaAndorraAngolaAntarcticaAntigua And BarbudaArgentinaArmeniaArubaAustraliaAustriaAzerbaijanBahamasBahrainBangladeshBarbadosBelarusBelgiumBelizeBeninBermudaBhutanBoliviaBosnia And HerzegovinaBotswanaBouvet IslandBrazilBrunei DarussalamBulgariaBurkina FasoBurundiCambodiaCameroonCanadaCape VerdeCayman IslandsCentral African RepublicChadChileChinaChristmas IslandCocos (Keeling) IslandsColombiaComorosCongoCook IslandsCosta RicaCôte D\'IvoireCroatiaCubaCyprusCzech RepublicDenmarkDjiboutiDominicaDominican RepublicEcuadorEgyptEl SalvadorEquatorial GuineaEritreaEstoniaEthiopiaFalkland Islands (Malvinas)Faroe IslandsFijiFinlandFranceFrench GuianaFrench PolynesiaFrench Southern TerritoriesGabonGambiaGeorgiaGermanyGhanaGibraltarGreeceGreenlandGrenadaGuadeloupeGuamGuatemalaGuineaGuinea-BissauGuyanaHaitiHondurasHong KongHungaryIcelandIndiaIndonesiaIranIraqIrelandIsraelItalyJamaicaJapanJordanKazakhstanKenyaKiribatiKoreaKuwaitKyrgyzstanLatviaLebanonLesothoLiberiaLibyan Arab JamahiriyaLiechtensteinLithuaniaLuxembourgMacaoMadagascarMalawiMalaysiaMaldivesMaliMaltaMarshall IslandsMartiniqueMauritaniaMauritiusMayotteMexicoMoldova, Republic OfMonacoMongoliaMontenegroMontserratMoroccoMozambiqueMyanmarNamibiaNauruNepalNetherlandsNetherlands AntillesNew CaledoniaNew ZealandNicaraguaNigerNigeriaNiueNorfolk IslandNorthern Mariana IslandsNorwayOmanPakistanPalauPalestinianPanamaPapua New GuineaParaguayPeruPhilippinesPitcairnPolandPortugalPuerto RicoQatarRéunionRomaniaRussian FederationRwandaSaint HelenaSaint Kitts And NevisSaint LuciaSamoaSan MarinoSao Tome And PrincipeSaudi ArabiaSenegalSerbiaSeychellesSierra LeoneSingaporeSlovakiaSloveniaSolomon IslandsSomaliaSouth AfricaSpainSri LankaSudanSurinameSvalbard And Jan MayenSwazilandSwedenSwitzerlandSyrian Arab RepublicTaiwanTajikistanTanzaniaThailandTimor-LesteTogoTokelauTongaTrinidad And TobagoTunisiaTurkeyTurkmenistanTurks And Caicos IslandsTuvaluUgandaUkraineUnited Arab EmiratesUnited StatesUruguayUzbekistanVanuatuVenezuelaViet NamVirgin Islands, BritishVirgin Islands, U.S.Wallis And FutunaWestern SaharaYemenZambiaZimbabwe Phone number (mobile preferred) * E-mail address * Confirm e-mail address * Contact preferences Opt-in to our email list to get the latest offers and news straight to your inbox. Contact me by postContact me by emailAdult 2 Title *SelectMrMrsMsDrProfSirLordLadyHonRev First name * Last name * Same as lead passenger Date of birth *Day01020304050607080910111213141516171819202122232425262728293031Month010203040506070809101112Year202420232022202120202019201820172016201520142013201220112010200920082007200620052004200320022001200019991998199719961995199419931992199119901989198819871986198519841983198219811980197919781977197619751974197319721971197019691968196719661965196419631962196119601959195819571956195519541953195219511950194919481947194619451944194319421941194019391938193719361935193419331932193119301929192819271926192519241923192219211920191919181917191619151914191319121911191019091908190719061905Add special requirementsEmergency contact numberPreferably a family member or friend not travelling with you. This number will only be used during your holiday should we need to contact someone on your behalf. Phone number *NextResidence La Riviere Apartments, ChamonixChamonix, France2 adults (7 nights)Travel Outbound - 28/12/2024 Return - 04/01/2025roomsStudio Apartment with Cabin - Self Catering (Bath, WC) Early Booking Discount ( -£60.00) Travel and rooms subtotal£3,104.00Deposit£300.00per person£1,552.00Total£').click();
  await expect(page.getByText('Email confirmation does not')).toBeVisible();
  await page.locator('input[name="customer-email"]').click();
  await page.locator('input[name="customer-email"]').fill('test@test.com');
  await page.locator('#passenger-2-1-title').selectOption('mr');
  await page.locator('#passenger-2-3-firstName').click();
  await page.locator('#passenger-2-3-firstName').fill('Test ');
  await page.locator('#passenger-2-4-lastName').click();
  await page.locator('#passenger-2-4-lastName').fill('Two');
  await page.locator('form div').filter({ hasText: 'Adult 2 Title *' }).getByRole('combobox').nth(1).selectOption('01');
  await page.locator('form div').filter({ hasText: 'Adult 2 Title *' }).getByRole('combobox').nth(2).selectOption('05');
  await page.locator('form div').filter({ hasText: 'Emergency contact' }).locator('#customer-number').click();
  await page.locator('form div').filter({ hasText: 'Emergency contact' }).locator('#customer-number').fill('09198888777');
  await page.getByRole('button', { name: 'Next' }).click();
  await expect(page.locator('form div').filter({ hasText: 'Adult 1 (lead passenger)Title' }).getByRole('combobox').nth(3)).toBeVisible();
  await page.getByRole('button', { name: 'Next' }).click();
  await page.getByRole('button', { name: 'Next' }).click();
});